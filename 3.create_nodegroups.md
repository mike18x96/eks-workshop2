Update cluster.yaml from the provious step or create new.

```
apiVersion: eksctl.io/v1alpha5
kind: ClusterConfig

metadata:
  name: basic-cluster
  region: us-west-2
  version: "1.25"

nodeGroups:
  - name: ng1
    labels: { role: workers }
    instanceType: t3.small
    desiredCapacity: 1
    volumeSize: 20
    privateNetworking: true
```

Here we have added unmanaged, private nodegroup with one instance of type t3.small

If you have previously created cluster, please run:
```
eksctl create nodegroup --config-file=cluster.yaml
```

If you don't have cluster run cluster creation and nodegroup from scratch
```
eksctl create cluster -f cluster.yaml
```

Meanwhile eksctl will create CloudFormation stack with resouces managed with autoscaling group

Check if node is connected to the cluster
```
 kubectl get nodes
```


No let's add managed node group
Amazon EKS managed nodegroups is a feature that automates the provisioning and lifecycle management of nodes (EC2 instances) for Amazon EKS Kubernetes clusters. Customers can provision optimized groups of nodes for their clusters and EKS will keep their nodes up to date with the latest Kubernetes and host OS versions. 

An EKS managed node group is an autoscaling group and associated EC2 instances that are managed by AWS for an Amazon EKS cluster. Each node group uses the Amazon EKS-optimized Amazon Linux 2 AMI. Amazon EKS makes it easy to apply bug fixes and security patches to nodes, as well as update them to the latest Kubernetes versions. Each node group launches an autoscaling group for your cluster, which can span multiple AWS VPC availability zones and subnets for high-availability.
```
apiVersion: eksctl.io/v1alpha5
kind: ClusterConfig

metadata:
  name: basic-cluster
  region: us-west-2
  version: "1.25"

nodeGroups:
  - name: ng1
    labels: { role: workers }
    instanceType: t3.small
    desiredCapacity: 1
    volumeSize: 20
    private
managedNodeGroups:
  - name: ng2
    instanceType: t3.micro
    minSize: 1
    desiredCapacity: 1
    maxSize: 4
    labels:
      role: managed-worker
    tags:
      nodegroup-name: ng2
    privateNetworking: true
    ssh: 
      enableSsm: true
```


```
eksctl create nodegroup --config-file=cluster.yaml
```
